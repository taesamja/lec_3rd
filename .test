A
#include <Arduino.h>
const int TRIG = 12;   // 초음파 센서의 Trig 핀
const int ECHO = 14;   // 초음파 센서의 Echo 핀
const int BUZ  = 2;    // 부저 핀
void setup() {
  Serial.begin(115200);         // 시리얼 모니터 시작 (통신속도 115200bps)
  pinMode(TRIG, OUTPUT);        // Trig 핀 출력 설정
  pinMode(ECHO, INPUT);         // Echo 핀 입력 설정
  pinMode(BUZ, OUTPUT);         // 부저 핀 출력 설정
}
void loop() {
  // --- 초음파 센서 신호 보내기 ---
  digitalWrite(TRIG, LOW);  delayMicroseconds(2); 
  digitalWrite(TRIG, HIGH); delayMicroseconds(10);
  digitalWrite(TRIG, LOW);
  // --- Echo 핀에서 반사 시간 측정 ---
  float distance = pulseIn(ECHO, HIGH) * 0.034 / 2; // 거리(cm) 계산
  Serial.print("Distance: ");  Serial.print(distance);  Serial.println(" cm");
  // --- 10cm 이하일 때 경고음 ---
  if (distance < 10) tone(BUZ, 1000);  // 1kHz 소리 발생
  else noTone(BUZ);                    // 부저 끔
  delay(300);
}

B
#include <Arduino.h>
const int TRIG = 12;   // 초음파 센서의 Trig 핀
const int ECHO = 14;   // 초음파 센서의 Echo 핀
const int BUZ  = 2;    // 부저 핀
void setup() {
  Serial.begin(115200);         // 시리얼 모니터 시작 (통신속도 115200bps)
  pinMode(TRIG, OUTPUT);        // Trig 핀 출력 설정
  pinMode(ECHO, INPUT);         // Echo 핀 입력 설정
  pinMode(BUZ, OUTPUT);         // 부저 핀 출력 설정
}
void loop() {
  // --- 초음파 센서 신호 보내기 ---
  digitalWrite(TRIG, LOW);  delayMicroseconds(2); 
  digitalWrite(TRIG, HIGH); delayMicroseconds(10);
  digitalWrite(TRIG, LOW);
  // --- Echo 핀에서 반사 시간 측정 ---
  float distance = pulseIn(ECHO, HIGH) * 0.034 / 2; // 거리(cm) 계산
  // --- 거리값을 주파수로 변환 (5~50cm → 2000~200Hz) ---
  int freq = map(distance, 5, 50, 2000, 200);
  freq = constrain(freq, 200, 2000);
  tone(BUZ, freq, 100);  // --- 주파수에 따라 소리 발생 ---
  Serial.print("Distance: ");  Serial.print(distance);
  Serial.print(" cm  |  Tone: ");  Serial.println(freq);
  delay(200);
}

C
#include <Arduino.h>
const int TRIG = 12;   // 초음파 센서의 Trig 핀
const int ECHO = 14;   // 초음파 센서의 Echo 핀
const int BUZ  = 2;    // 부저 핀
void setup() {
  Serial.begin(115200);         // 시리얼 모니터 시작 (통신속도 115200bps)
  pinMode(TRIG, OUTPUT);        // Trig 핀 출력 설정
  pinMode(ECHO, INPUT);         // Echo 핀 입력 설정
  pinMode(BUZ, OUTPUT);         // 부저 핀 출력 설정
}
void loop() {
  // --- 초음파 센서 신호 보내기 ---
  digitalWrite(TRIG, LOW);  delayMicroseconds(2); 
  digitalWrite(TRIG, HIGH); delayMicroseconds(10);
  digitalWrite(TRIG, LOW);
  // --- Echo 핀에서 반사 시간 측정 ---
  float distance = pulseIn(ECHO, HIGH) * 0.034 / 2; // 거리(cm) 계산
  Serial.print("Distance: ");  Serial.print(distance);
  // --- 거리 단계별로 비프 속도 조절 ---
  if (distance < 10) {                     // 매우 가까움
    tone(BUZ, 1000, 100);    delay(100);  } 
  else if (distance < 20) {                // 약간 가까움
    tone(BUZ, 800, 100);     delay(300);  } 
  else if (distance < 40) {                // 중간 거리
    tone(BUZ, 600, 100);     delay(600);  } 
  else {                                   // 멀리 있음
    noTone(BUZ);             delay(500);  }
}

D
#include <Arduino.h>
const int TRIG = 12;   // 초음파 센서의 Trig 핀
const int ECHO = 14;   // 초음파 센서의 Echo 핀
const int BUZ  = 2;    // 부저 핀
unsigned long prevTime = 0;
void setup() {
  Serial.begin(115200);         // 시리얼 모니터 시작 (통신속도 115200bps)
  pinMode(TRIG, OUTPUT);        // Trig 핀 출력 설정
  pinMode(ECHO, INPUT);         // Echo 핀 입력 설정
  pinMode(BUZ, OUTPUT);         // 부저 핀 출력 설정
}
void loop() {
    if(millis() - prevTime >= 1000) {
        prevTime = millis();
        // --- 초음파 센서 신호 보내기 ---
        digitalWrite(TRIG, LOW);  delayMicroseconds(2); 
        digitalWrite(TRIG, HIGH); delayMicroseconds(10);
        digitalWrite(TRIG, LOW);
        // --- Echo 핀에서 반사 시간 측정 ---
        float distance = pulseIn(ECHO, HIGH) * 0.034 / 2; // 거리(cm) 계산
        // --- 거리 출력 ---
        Serial.print("Time: ");    Serial.print(prevTime / 1000);
        Serial.print("s | Distance: ");   Serial.print(distance);
        Serial.print(" cm  | ");
        // --- 거리값에 따라 # 개수로 시각화 (1cm당 1개, 최대 50개) ---
        int barLength = map(distance, 0, 50, 0, 50);
        for (int i = 0; i < barLength; i++) Serial.print('#');
        Serial.println();
        // --- 부저 경고 (10cm 이하일 때 짧게 삐) ---
        if (distance < 10) tone(BUZ, 1200, 200);
        else noTone(BUZ);  
    }
}

E
#include <Arduino.h>
const int TRIG = 12;   // 초음파 센서의 Trig 핀
const int ECHO = 14;   // 초음파 센서의 Echo 핀
const int BUZ  = 2;    // 부저 핀
bool active = false;   // on/off 상태 저장 변수
void setup() {
  Serial.begin(115200);         // 시리얼 모니터 시작 (통신속도 115200bps)
  pinMode(TRIG, OUTPUT);        // Trig 핀 출력 설정
  pinMode(ECHO, INPUT);         // Echo 핀 입력 설정
  pinMode(BUZ, OUTPUT);         // 부저 핀 출력 설정
}
void loop() {
  // --- 시리얼 명령 읽기 ---
  if (Serial.available()) {
    String cmd = Serial.readStringUntil('\n');
    cmd.trim(); // 개행 제거
    if (cmd == "on") {
      active = true;        Serial.println("▶ Measuring Started");    } 
    else if (cmd == "off") {
      active = false; noTone(BUZ); Serial.println("⏹ Measuring Stopped"); }
  }
  if (active) {     // --- on 상태일 때만 측정 ---
    digitalWrite(TRIG, LOW);    delayMicroseconds(2);
    digitalWrite(TRIG, HIGH);   delayMicroseconds(10);
    digitalWrite(TRIG, LOW);
    float distance = pulseIn(ECHO, HIGH) * 0.034 / 2;
    Serial.print("Distance: "); Serial.print(distance); Serial.println(" cm");
    if (distance < 10) tone(BUZ, 1000);    else noTone(BUZ);
    delay(300);
  }
}
